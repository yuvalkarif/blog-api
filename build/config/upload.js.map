{"version":3,"sources":["../../src/config/upload.js"],"names":["storage","multer","diskStorage","destination","req","file","cb","filename","Date","now","originalname","fileFilter","mimetype","includes","upload"],"mappings":";;;;;;;AAAA;;AACA;;;;AACA,IAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AACjCC,EAAAA,WAAW,EAAE,qBAAUC,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACpCA,IAAAA,EAAE,CAAC,IAAD,EAAO,gBAAP,CAAF;AACD,GAHgC;AAIjCC,EAAAA,QAAQ,EAAE,kBAAUH,GAAV,EAAeC,IAAf,EAAqBC,EAArB,EAAyB;AACjCA,IAAAA,EAAE,CAAC,IAAD,EAAOE,IAAI,CAACC,GAAL,KAAa,IAAb,GAAoBJ,IAAI,CAACK,YAAhC,CAAF;AACD;AANgC,CAAnB,CAAhB;;AASA,IAAMC,UAAU,GAAG,CAACP,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAmB;AACpC,MACED,IAAI,CAACO,QAAL,CAAcC,QAAd,CAAuB,MAAvB,KACAR,IAAI,CAACO,QAAL,CAAcC,QAAd,CAAuB,KAAvB,CADA,IAEAR,IAAI,CAACO,QAAL,CAAcC,QAAd,CAAuB,KAAvB,CAHF,EAIE;AACAP,IAAAA,EAAE,CAAC,IAAD,EAAO,IAAP,CAAF;AACD,GAND,MAMO;AACLA,IAAAA,EAAE,CAAC,IAAD,EAAO,KAAP,CAAF;AACD;AACF,CAVD;;AAYA,IAAIQ,MAAM,GAAG,qBAAO;AAAEd,EAAAA,OAAO,EAAEA,OAAX;AAAoBW,EAAAA,UAAU,EAAEA;AAAhC,CAAP,CAAb;eAEeG,M","sourcesContent":["import multer from \"multer\";\nimport path from \"path\";\nconst storage = multer.diskStorage({\n  destination: function (req, file, cb) {\n    cb(null, \"public/images/\");\n  },\n  filename: function (req, file, cb) {\n    cb(null, Date.now() + \"--\" + file.originalname);\n  },\n});\n\nconst fileFilter = (req, file, cb) => {\n  if (\n    file.mimetype.includes(\"jpeg\") ||\n    file.mimetype.includes(\"png\") ||\n    file.mimetype.includes(\"jpg\")\n  ) {\n    cb(null, true);\n  } else {\n    cb(null, false);\n  }\n};\n\nlet upload = multer({ storage: storage, fileFilter: fileFilter });\n\nexport default upload;\n"],"file":"upload.js"}